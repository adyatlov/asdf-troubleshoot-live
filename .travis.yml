language: shell

os:
  - linux
  - osx

addons:
  homebrew:
    packages:
      - coreutils
      - go

before_install:
  - git clone https://github.com/asdf-vm/asdf.git ~/.asdf --branch v0.11.3
  - . $HOME/.asdf/asdf.sh

install:
  - asdf plugin-add golang https://github.com/kennyp/asdf-golang.git
  - asdf install golang latest
  - asdf global golang latest
  - unset GOROOT
  - go version

before_script:
  - asdf plugin remove troubleshoot-live
  - asdf plugin add troubleshoot-live ./

script:
  - asdf install troubleshoot-live latest
  - asdf global troubleshoot-live latest
  - troubleshoot-live help
